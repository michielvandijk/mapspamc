<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation • mapspamc</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Installation">
<meta property="og:description" content="mapspamc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapspamc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Background</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="../articles/crop_distribution_maps.html">Crop distribution maps</a>
        </li>
        <li>
          <a href="../articles/model_description.html">Model description</a>
        </li>
        <li>
          <a href="../articles/input_data.html">Input data</a>
        </li>
        <li>
          <a href="../articles/country_examples.html">Country examples</a>
        </li>
        <li>
          <a href="../articles/appendix.html">Appendix</a>
        </li>
      </ul>
</li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Run mapspamc</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="../articles/design.html">Design and process flow</a>
        </li>
        <li>
          <a href="../articles/model_setup.html">1. Model setup</a>
        </li>
        <li>
          <a href="../articles/preprocessing_subnational_statistics.html">2.1. Pre-processing - subnational statistics</a>
        </li>
        <li>
          <a href="../articles/preprocessing_spatial_data.html">2.2. Pre-processing - spatial data</a>
        </li>
        <li>
          <a href="../articles/preprocessing_cropland.html">2.3. Pre-processing - cropland</a>
        </li>
        <li>
          <a href="../articles/preprocessing_irrigated_area.html">2.4. Pre-processing - irrigated area</a>
        </li>
        <li>
          <a href="../articles/model_preparation.html">3. Model preparation</a>
        </li>
        <li>
          <a href="../articles/run_model.html">4. Run model</a>
        </li>
        <li>
          <a href="../articles/postprocessing.html">5. Post-processing</a>
        </li>
        <li>
          <a href="../articles/model_validation.html">6. Model validation</a>
        </li>
      </ul>
</li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/michielvandijk/mapspamc" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/michielvandijk/mapspamc/blob/HEAD/vignettes/installation.Rmd" class="external-link"><code>vignettes/installation.Rmd</code></a></small>
      <div class="hidden name"><code>installation.Rmd</code></div>

    </div>

    
    
<p>To run <code>mapspamc</code>, several software packages need to be
installed. Below, we provide a brief description on how to install the
software. Note that GAMS is a commercial product, which requires a
licence. Also note that the scripts and implementation of the model have
been developed, implemented and tested using a Windows environment. As
all the software is cross platform it should be possible to run
<code>mapspamc</code> on Mac and Linux but this was not tested.</p>
<div class="section level2">
<h2 id="installing-r-and-rstudio">Installing R and RStudio<a class="anchor" aria-label="anchor" href="#installing-r-and-rstudio"></a>
</h2>
<p>All the pre- and post-processing of the data is done in R <span class="citation">(R Core Team 2022)</span>. R is a free and open source
software environment for statistical computing and graphics supported by
the R Foundation for Statistical Computing. To run <code>mapspamc</code>
one needs to install R and RStudio, a graphical user interface for R.
Both pieces of software are available for various operating systems. The
package was developed and tested with R version 4.2.1. If you are not
familiar with R, please have a look at the online book <a href="https://r4ds.had.co.nz" class="external-link">R for Data Science</a> by Hadley Wickham
and Garrett Grolemund, which is probably the best book to get
started.</p>
<ol style="list-style-type: decimal">
<li><a href="https://cran.r-project.org/" class="external-link">Download and install
R</a></li>
<li>
<a href="https://rstudio.com/products/rstudio/download/" class="external-link">Download
and install Rstudio</a>.</li>
</ol>
</div>
<div class="section level2">
<h2 id="installing-gams">Installing GAMS<a class="anchor" aria-label="anchor" href="#installing-gams"></a>
</h2>
<p>The downscaling algorithms in <code>mapspamc</code> are solved using
the <a href="https://www.gams.com/" class="external-link">General Algebraic Modeling
System</a> (GAMS), which is modelling system and language designed for
mathematical optimization. The GAMS system and solvers can be downloaded
from the GAMS website. Unfortunately, one needs a GAMS Base Module
licence plus additional IPOPT and CPLEX solver licence to run
<code>mapspamc</code>.</p>
<ul>
<li><a href="https://www.gams.com/download" class="external-link">Download and install
GAMS</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="r-packages">R packages<a class="anchor" aria-label="anchor" href="#r-packages"></a>
</h2>
<div class="section level3">
<h3 id="installing-mapspamc">Installing <code>mapspamc</code><a class="anchor" aria-label="anchor" href="#installing-mapspamc"></a>
</h3>
<p>R packages are pieces of bundled R code, frequently including scripts
from other languages (e.g. C or C++) to speed up calculations or
interface with other software (e.g. GAMS). Packages can be easily
installed by using the command <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> in R or
by clicking on the <strong>package</strong> tab in RStudio. Nearly all
packages are directly downloaded from CRAN, the R package
repository.</p>
<p>To install <code>mapspamc</code>, which is not on CRAN, one first has
to install the <strong>remotes</strong> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"michielvandijk/mapspamc"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="essential-packages">Essential packages<a class="anchor" aria-label="anchor" href="#essential-packages"></a>
</h3>
<p>Several R packages are required to run <code>mapspamc</code>
scripts:</p>
<ul>
<li><p>To interface between R and GAMS the gdxrrw package is required.
Unfortunately, this package is not available on CRAN and therefore has
to be installed manually. The package can be found <a href="https://github.com/GAMS-dev/gdxrrw" class="external-link">here</a>, which also presents
instructions on how to install the package. Several functions in
<code>mapspamc</code> use gdxrrw to read and save GAMS gdx files and
check whether the package and GAMS are installed.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/tidyverse/index.html" class="external-link">tidyverse</a>
<span class="citation">(Wickham et al. 2019)</span> is the name for a
set of packages that work in harmony to facilitate data preparation and
processing, most importantly dplyr, purrr, tidyr and ggplot2. Some of
them are used by <code>mapspamc</code> and will be installed
automatically when the package is installed for the first time and were
not installed before.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/sf/index.html" class="external-link">sf
package</a> <span class="citation">(Pebesma 2018)</span> is a package to
process spatial data in vector (polygon) format.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/raster/index.html" class="external-link">terra
package</a> <span class="citation">(Hijmans 2022)</span> is a package to
process spatial data in raster format.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="additional-software">Additional software<a class="anchor" aria-label="anchor" href="#additional-software"></a>
</h2>
<p>Although not strictly necessary to use <code>mapspamc</code>, We
recommend installing the following additional software:</p>
<ul>
<li><p><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" class="external-link">Git</a>
is software to version your code. RStudio and git can be easily linked
to version code.</p></li>
<li><p><a href="https://qgis.org/en/site/" class="external-link">QGIS</a> a free and
open-source cross-platform desktop geographic information system
application that supports viewing, editing, and analysis of geospatial
data. It is convenient to quickly inspect vector and raster
maps.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="hardware">Hardware<a class="anchor" aria-label="anchor" href="#hardware"></a>
</h2>
<p>The dimensions of <code>mapspamc</code> models are determined by the
number of grid cells, administrative regions, crops and production
systems. Of these four elements, the number of grid cells is the main
factor determining the size of the model although the other dimensions
(in combination with the number of grid cells) also play a role. The
total number of grid cells is related to (1) the cropland extent and,
hence, the size of the country and (2) the resolution of the model,
e.g. 5 arc minutes or 30 arc seconds.</p>
<p>When the model is run at the highest resolution of 30 arc seconds,
the dimensions quickly tend to become very large. Excessively large
models will result in memory problems or very long processing times on a
standard desktop machine. We successfully managed to run 30 arc seconds
single country models for small to medium size African countries, such
as Malawi, Zambia and Kenya on a Windows 10 desktop with 16 gigabyte
memory but we were unable to run the model for Ethiopia, which is a much
larger country. To produce crop distribution maps for large countries,
we provide the possibility to split the data and solve the model for
each level 1 administrative unit separately. The main disadvantage of
this approach is that it is not allowed to have missing crop statistics
(e.g. total area of maize) at the level 1 administrative unit. In
practice, level 1 administrative crop information is not always
available and therefore has to be imputed. We recommend testing models
at a resolution of 5 arc minutes and only proceed with running at 30 arc
seconds resolution if really needed.</p>
</div>
<div class="section level2">
<h2 id="input-data">Input data<a class="anchor" aria-label="anchor" href="#input-data"></a>
</h2>
<p>To support easy implementation of the package, <code>mapspamc</code>
is accompanied by a <a href="https://doi.org/10.5281/zenodo.7031917" class="external-link">public data repository</a>
(referred to as the mapspamc_db) that contains a large number of global
maps that are publicly available. Detailed information on the database
can be found in the <a href="articles/input_data.html">input_data</a>
section and in the database documentation.</p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Hijmans2022" class="csl-entry">
Hijmans, Robert J. 2022. <span>“<span class="nocase">Terra: Spatial data
analysis</span>.”</span> <a href="https://cran.r-project.org/package=terra" class="external-link">https://cran.r-project.org/package=terra</a>.
</div>
<div id="ref-Pebesma2018" class="csl-entry">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R:
Standardized Support for Spatial Vector Data</span>.”</span> <em>The R
Journal</em> 10 (1): 439. <a href="https://doi.org/10.32614/RJ-2018-009" class="external-link">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-RCoreTeam2022" class="csl-entry">
R Core Team. 2022. <span>“<span class="nocase">R: A Language and
Environment for Statistical Computing</span>.”</span> R Foundation for
Statistical Computing. <a href="https://www.r-project.org/" class="external-link">https://www.r-project.org/</a>.
</div>
<div id="ref-Wickham2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy
McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“<span class="nocase">Welcome to the Tidyverse</span>.”</span> <em>Journal of
Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686" class="external-link">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Michiel Van Dijk.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
